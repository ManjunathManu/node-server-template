# node-server-template
An ideal nodejs express server template 

# DOCUMENTATION

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

- [node-server-template](#node-server-template)
- [DOCUMENTATION](#documentation)
    - [Table of Contents](#table-of-contents)
  - [customStream](#customstream)
    - [Parameters](#parameters)
  - [generateLogger](#generatelogger)
    - [Parameters](#parameters-1)
  - [ensurePath](#ensurepath)
    - [Parameters](#parameters-2)
  - [reqErrorHandle](#reqerrorhandle)
    - [Parameters](#parameters-3)
    - [Examples](#examples)
  - [errorFirst](#errorfirst)
    - [Parameters](#parameters-4)
    - [Examples](#examples-1)

## customStream

This function takes a winston logger and the level and generates a
streamer which can be used for morgan.

### Parameters

-   `logInstance` **[function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)** An winston logger instance.
-   `level` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The log level for instance.

## generateLogger

This function generates a winston logger Instance.

### Parameters

-   `logOptions`  

## ensurePath

This function ensures that a given path exists otherwise
creates it, if it doesn't exist, errors out and exits the process
if it can't create the path.

### Parameters

-   `logPath`  
-   `path` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The path string to be tested.

## reqErrorHandle

Exposes function that takes up the burden of try catch block .

### Parameters

-   `func` **[function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)?** The request handler without try catches.

### Examples

```javascript
import { reqErrorHandle as rEH } from 'lm-commons';

const testHandler = async (req, res, next) => {
  const {
    data
  } = req.body; // This will throw the error unable to find data of undefined if
                // req.body is undefined
  res.send({ data });
};

app.get('/test', rEH(testHandler));
```

Returns **[function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)** Promise that takes care of errors

## errorFirst

Exposes function resolves every promise in error first pattern.

### Parameters

-   `promise` **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)?** A normal promise which differentiates between resolve and reject .

### Examples

```javascript
import { errorFirst as eF } from 'lm-commons';

const isGreaterThan10 = (input) => {
  const integerValue = parseInt(input, 10);
  if (integerValue === integerValue) return Promise.resolve(integerValue > 10);
  return Promise.reject('Cant typecast to integer');
};

const reqHandle = async (req, res, next) => {
  const { data } = req.body || {};
  const [error, data] = await eF(isGreaterThan10(data));
  if (error) return res.status(500).end(); // send useful error messages
  return res.send(data);
};
```

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)** Promise that always resolves
